/*
 * Responsively Lazy
 * http://ivopetkov.com/b/lazy-load-responsive-images/
 * Copyright 2015-2017, Ivo Petkov
 * Free to use under the MIT license.
*/
var responsivelyLazy=function(){var r=!1,l=null,p=null,m="undefined"!==typeof IntersectionObserver,q=!1,t=[],u=function(a){if(null===l)return!1;var b=a.getBoundingClientRect();a=b.top;var c=b.left,g=b.width,b=b.height;return a<p&&0<a+b&&c<l&&0<c+g},v=function(a,b){for(var c=a.length,g=b;g<c;g++){var k=!1,d=a[g],e=document.createElement("script"),f=d.getAttribute("type");null!==f&&e.setAttribute("type",f);f=d.getAttribute("src");null!==f&&(e.setAttribute("src",f),("undefined"===typeof d.async||!1===
d.async)&&g+1<c&&(k=!0,e.addEventListener("load",function(){v(a,g+1)})));e.innerHTML=d.innerHTML;d.parentNode.insertBefore(e,d);d.parentNode.removeChild(d);if(k)break}},w=function(a,b){var c=b.getAttribute("data-srcset");if(null!==c)if(c=c.trim(),0<c.length){for(var c=c.split(","),g=[],k=c.length,d=0;d<k;d++){var e=c[d].trim();if(0!==e.length){var f=e.lastIndexOf(" ");if(-1===f)var h=e,e=999998;else h=e.substr(0,f),e=parseInt(e.substr(f+1,e.length-f-2),10);f=!1;-1!==h.indexOf(".webp",h.length-5)?
r&&(f=!0):f=!0;f&&g.push([h,e])}}g.sort(function(a,b){if(a[1]<b[1])return-1;if(a[1]>b[1])return 1;if(a[1]===b[1]){if(-1!==b[0].indexOf(".webp",b[0].length-5))return 1;if(-1!==a[0].indexOf(".webp",a[0].length-5))return-1}return 0});c=g}else c=[];else c=[];g=a.offsetWidth*window.devicePixelRatio;h=null;k=c.length;for(d=0;d<k;d++)if(e=c[d],e[1]>=g){h=e;break}null===h&&(h=[b.getAttribute("src"),999999]);"undefined"===typeof a.responsivelyLazyLastSetOption&&(a.responsivelyLazyLastSetOption=["",0]);a.responsivelyLazyLastSetOption[1]<
h[1]&&(a.responsivelyLazyLastSetOption=h,c=h[0],"undefined"===typeof a.responsivelyLazyEventsAttached&&(a.responsivelyLazyEventsAttached=!0,b.addEventListener("load",function(){var b=a.getAttribute("data-onlazyload");null!==b&&(new Function(b)).bind(a)()},!1),b.addEventListener("error",function(){a.responsivelyLazyLastSetOption=["",0]},!1)),c===b.getAttribute("src")?b.removeAttribute("srcset"):b.setAttribute("srcset",c))},x=function(a){if(-1===t.indexOf(a)&&u(a)){var b=a.getAttribute("data-lazycontent");
null!==b?(t.push(a),q=!0,a.innerHTML=b,a=a.querySelectorAll("script"),0<a.length&&v(a,0),q=!1):"img"===a.tagName.toLowerCase()?w(a,a):(b=a.querySelector("img"),null!==b&&w(a,b))}},y=function(){for(var a=document.querySelectorAll(".responsively-lazy"),b=a.length,c=0;c<b;c++)x(a[c])};if("srcset"in document.createElement("img")&&"undefined"!==typeof window.devicePixelRatio&&"undefined"!==typeof window.addEventListener&&"undefined"!==typeof document.querySelectorAll){var l=window.innerWidth,p=window.innerHeight,
n=new Image;n.src="data:image/webp;base64,UklGRiQAAABXRUJQVlA4IBgAAAAwAQCdASoCAAEADMDOJaQAA3AA/uuuAAA=";n.onload=n.onerror=function(){r=2===n.width;var a=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(a){window.setTimeout(a,1E3/60)},b=!0,c=function(){b&&(b=!1,y());a.call(null,c)};c();if(m)var g=function(){for(var a=document.querySelectorAll(".responsively-lazy"),b=a.length,c=0;c<b;c++){var e=a[c];"undefined"===typeof e.responsivelyLazyObserverAttached&&
(e.responsivelyLazyObserverAttached=!0,k.observe(e))}},k=new IntersectionObserver(function(a){for(var b in a){var c=a[b];0<c.intersectionRatio&&x(c.target)}}),d=null;var e=function(){m?(window.clearTimeout(d),d=window.setTimeout(function(){b=!0},300)):b=!0},f=function(){for(var a=document.querySelectorAll(".responsively-lazy"),b=a.length,c=0;c<b;c++)for(var d=a[c].parentNode;d&&"html"!==d.tagName.toLowerCase();)"undefined"===typeof d.responsivelyLazyScrollAttached&&(d.responsivelyLazyScrollAttached=
!0,d.addEventListener("scroll",e)),d=d.parentNode},h=function(){window.addEventListener("resize",function(){l=window.innerWidth;p=window.innerHeight;e()});window.addEventListener("scroll",e);window.addEventListener("load",e);m&&g();f();"undefined"!==typeof MutationObserver&&(new MutationObserver(function(){q||(m&&g(),f(),e())})).observe(document.querySelector("body"),{childList:!0,subtree:!0})};"loading"===document.readyState?document.addEventListener("DOMContentLoaded",h):h()}}return{run:y,isVisible:u}}();